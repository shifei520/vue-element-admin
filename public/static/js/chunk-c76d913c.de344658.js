(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c76d913c"],{"0ccb":function(t,e,n){var a=n("50c4"),r=n("1148"),l=n("1d80"),o=Math.ceil,i=function(t){return function(e,n,i){var s,c,d=String(l(e)),u=d.length,p=void 0===i?" ":String(i),h=a(n);return h<=u||""==p?d:(s=h-u,c=r.call(p,o(s/p.length)),c.length>s&&(c=c.slice(0,s)),t?d+c:c+d)}};t.exports={start:i(!1),end:i(!0)}},1276:function(t,e,n){"use strict";var a=n("d784"),r=n("44e7"),l=n("825a"),o=n("1d80"),i=n("4840"),s=n("8aa5"),c=n("50c4"),d=n("14c3"),u=n("9263"),p=n("d039"),h=[].push,f=Math.min,m=4294967295,g=!p((function(){return!RegExp(m,"y")}));a("split",2,(function(t,e,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var a=String(o(this)),l=void 0===n?m:n>>>0;if(0===l)return[];if(void 0===t)return[a];if(!r(t))return e.call(a,t,l);var i,s,c,d=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,g=new RegExp(t.source,p+"g");while(i=u.call(g,a)){if(s=g.lastIndex,s>f&&(d.push(a.slice(f,i.index)),i.length>1&&i.index<a.length&&h.apply(d,i.slice(1)),c=i[0].length,f=s,d.length>=l))break;g.lastIndex===i.index&&g.lastIndex++}return f===a.length?!c&&g.test("")||d.push(""):d.push(a.slice(f)),d.length>l?d.slice(0,l):d}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=o(this),l=void 0==e?void 0:e[t];return void 0!==l?l.call(e,r,n):a.call(String(r),e,n)},function(t,r){var o=n(a,t,this,r,a!==e);if(o.done)return o.value;var u=l(t),p=String(this),h=i(u,RegExp),v=u.unicode,w=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(g?"y":"g"),b=new h(g?u:"^(?:"+u.source+")",w),y=void 0===r?m:r>>>0;if(0===y)return[];if(0===p.length)return null===d(b,p)?[p]:[];var D=0,x=0,_=[];while(x<p.length){b.lastIndex=g?x:0;var S,j=d(b,g?p:p.slice(x));if(null===j||(S=f(c(b.lastIndex+(g?0:x)),p.length))===D)x=s(p,x,v);else{if(_.push(p.slice(D,x)),_.length===y)return _;for(var k=1;k<=j.length-1;k++)if(_.push(j[k]),_.length===y)return _;x=D=S}}return _.push(p.slice(D)),_}]}),!g)},"1eef":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return l}));var a=n("b775");function r(){return Object(a["a"])({url:"/company/department"})}function l(t){return Object(a["a"])({url:"/company/department/".concat(t),method:"delete"})}},"4d90":function(t,e,n){"use strict";var a=n("23e7"),r=n("0ccb").start,l=n("9a0c");a({target:"String",proto:!0,forced:l},{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"5dca":function(t,e,n){"use strict";n("a67e")},"9a0c":function(t,e,n){var a=n("342f");t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a)},a67e:function(t,e,n){},ed08:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("53ca"),n("ac1f"),n("00b4"),n("5319"),n("4d63"),n("2c3e"),n("25f0"),n("d3b7"),n("4d90"),n("1276"),n("159b");function a(t,e){var n=[];return t.forEach((function(r){if(r.pid===e){var l=a(t,r.id);l.length>0&&(r.children=l),n.push(r)}})),n}},fb3b:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"department"},[n("el-card",{staticClass:"tree-card"},[n("tree-tools",{attrs:{"tree-node":t.company,"is-root":!0},on:{addDepts:t.addDepts}}),n("el-tree",{attrs:{data:t.departs,props:t.defaultProps,"default-expand-all":!0},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return n("tree-tools",{attrs:{"tree-node":a},on:{delDepts:t.getDepartments,addDepts:t.addDepts}})}}])})],1),n("add-dept",{attrs:{"show-dialog":t.showDialog},on:{"update:showDialog":function(e){t.showDialog=e},"update:show-dialog":function(e){t.showDialog=e}}})],1)},r=[],l=n("1da1"),o=(n("96cf"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticStyle:{height:"40px",width:"100%"},attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("el-col",[n("span",[t._v(t._s(t.treeNode.name))])]),n("el-col",{attrs:{span:4}},[n("el-row",{attrs:{type:"flex",justify:"end"}},[n("el-col",[t._v(t._s(t.treeNode.manager))]),n("el-col",[n("el-dropdown",{on:{command:t.operateDepts}},[n("span",[t._v("操作 "),n("i",{staticClass:"el-icon-arrow-down"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"add",disabled:!t.checkPermission("add-aa")}},[t._v("添加子部门")]),t.isRoot?t._e():n("el-dropdown-item",{attrs:{command:"edit"}},[t._v("编辑部门")]),t.isRoot?t._e():n("el-dropdown-item",{attrs:{command:"del"}},[t._v("删除部门")])],1)],1)],1)],1)],1)],1)}),i=[],s=n("1eef"),c={props:{treeNode:{required:!0,type:Object},isRoot:{type:Boolean,default:!1}},methods:{operateDepts:function(t){var e=this;"add"===t?this.$emit("addDepts",this.treeNode):"edit"===t||this.$confirm("确定要删除该部门吗").then((function(){return Object(s["a"])(e.treeNode.id)})).then((function(){e.$emit("delDepts"),e.$message.success("删除部门成功")}))}}},d=c,u=n("2877"),p=Object(u["a"])(d,o,i,!1,null,null,null),h=p.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"新增部门",visible:t.showDialog}},[n("el-form",{attrs:{"label-width":"120px"}},[n("el-form-item",{attrs:{label:"部门名称"}},[n("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"1-50个字符"}})],1),n("el-form-item",{attrs:{label:"部门编码"}},[n("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"1-50个字符"}})],1),n("el-form-item",{attrs:{label:"部门负责人"}},[n("el-select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择"}})],1),n("el-form-item",{attrs:{label:"部门介绍"}},[n("el-input",{staticStyle:{width:"80%"},attrs:{placeholder:"1-300个字符",type:"textarea",rows:3}})],1)],1),n("el-row",{attrs:{slot:"footer",type:"flex",justify:"center"},slot:"footer"},[n("el-col",{attrs:{span:6}},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.closeDialog}},[t._v("确定")]),n("el-button",{attrs:{size:"small"},on:{click:t.closeDialog}},[t._v("取消")])],1)],1)],1)},m=[],g={props:{showDialog:{type:Boolean,default:!1}},methods:{closeDialog:function(){this.$emit("update:showDialog",!1)}}},v=g,w=Object(u["a"])(v,f,m,!1,null,null,null),b=w.exports,y=n("ed08"),D={components:{TreeTools:h,AddDept:b},data:function(){return{company:{},departs:[{name:"总裁办",manager:"曹操",children:[{name:"董事会",manager:"曹丕"}]},{name:"行政部",manager:"刘备"},{name:"人事部",manager:"孙权"}],defaultProps:{label:"name"},showDialog:!1}},created:function(){this.getDepartments()},methods:{getDepartments:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["b"])();case 2:n=e.sent,t.company={name:n.companyName,manager:"负责人"},t.departs=Object(y["a"])(n.depts,"");case 5:case"end":return e.stop()}}),e)})))()},addDepts:function(t){this.showDialog=!0,this.node=t}}},x=D,_=(n("5dca"),Object(u["a"])(x,a,r,!1,null,"78654f51",null));e["default"]=_.exports}}]);